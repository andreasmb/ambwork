@import 'nib'
@import 'https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.css'

columnMaxWidth = 1000px
sectionSpacing = 100px
mediaSpacing = 50px
columnWidth = 470px
textSpacing = 20px
gutter = 75px
numberSize = 12px
navStart = 153.5px
navSize = 30px
navSizePadding = 40px

/*Colors*/
darkGray = #97999B
darkerGray = #666768
borderColor = #E4E4E4


baseUrl = 'http://assets.ambwork.com/'
fontBaseUrl = 'http://info.ambwork.com/fonts/'

@font-face
  font-family: 'akkurat-bold'
  src: url(fontBaseUrl + 'akkurat-bold.ttf')
  font-weight: bold

@font-face
  font-family: 'akkurat-light'
  src: url(fontBaseUrl + 'akkurat-light.ttf')

@font-face
  font-family: 'akkurat-normal'
  src: url(fontBaseUrl + 'akkurat-normal.ttf')
  font-weight: normal

html
  color: darkGray
  font-size: 16px
  -webkit-font-smoothing: antialiased

body
  font-family: akkurat-bold, sans-serif

p
  font-size: 1em
  line-height: 1.6

h2
  font-size: 1.5em
  line-height: 1.6
  color: darkerGray

a
  color: darkGray
  transition: color .3s
  &:hover
    color: darkerGray

small
  font-size: .8em
  line-height: 1.1

  font-family: akkurat-normal, sans-serif

.byline
  padding: 100px 0
  text-align: center

section
  padding: sectionSpacing gutter sectionSpacing gutter

  &.gray-bg
    background: #eeeeee


#top
  padding: 1px gutter
  transition: all .25s
  .project-text
    padding-top: sectionSpacing*2
    padding-bottom: sectionSpacing*3

.container
  position: relative
  max-width: columnMaxWidth
  margin: 0 auto
  transition: all .5s
  img
    width: 100%
    max-width: 100%

.project-text
  position: relative
  padding: sectionSpacing 0
  max-width: columnWidth
  h2, p, small
    padding: 0 0 (textSpacing / 2) 0

.media-container
  position: relative
  padding-bottom: mediaSpacing
  max-width: columnMaxWidth
  div[id^='wistia_branding']
    display: none !important

.nav-container
  position: absolute
  left: -75px

.nav
  box-sizing: border-box
  height: navSize
  width: navSize
  border: 1px solid borderColor
  border-radius: 3px
  text-align: center
  padding-top: 4px
  margin-top: 10px
  &.down-arrow
    border: 0
    opacity: .3
    position: absolute
    bottom: sectionSpacing
    left: 0
    border-color: rgba(#666768, .2)
    background-image:url(baseUrl + 'img/down-arrow.png')
    background-repeat: no-repeat
    background-size: (navSize - 10)px
    background-position: 50% 50%
    animation: arrow-down 5s infinite ease


for num in (1..10)
    .nav-container-{num}
      top: (navStart) - (num * navSizePadding)px
    .project-{num}
      .nav
        opacity: 0
      .nav-{num}
        opacity: 1


.turn-on-vid
  display: none

#pf
  .turn-on-vid
    display: block
    position: absolute
    top: 37%
    left: "calc(50% - %s)" % 30px
    width: 120px
    height: 80px
    background-image:url(baseUrl + 'img/sound-off.png')
    background-image:url(baseUrl + 'img/sound.png')
    background-repeat: no-repeat
    background-size: contain
    opacity: .5
    cursor: pointer
    transition: all .5s
    &.volume-on
      background-image:url(baseUrl + 'img/sound-off.png')
      width: 60px
      height: 40px
      left: "calc(100% - %s)" % 80px
      top: 20px

  .media-container:hover
    .turn-on-vid
      opacity: 0.7
      &:hover
        opacity: 1

//ANIMATION STUFF

.fadein
  transition-duration: .8s
  transition-property: opacity, transform
  opacity: 1
  transform: translate3d(0, 0, 0)
  transform: translateY(0)

.delay-1
  transition-delay: .4s
.delay-2
  transition-delay: .7s
.delay-3
  transition-delay: 1s

.opacity
  opacity: 0

@keyframes arrow-down
  0%
    bottom: sectionSpacing+15
  30%
    bottom: sectionSpacing
  60%
    bottom: sectionSpacing+15
  100%
    bottom: sectionSpacing+15


//MOBILE
@media (max-width: 1000px)
  .project-text
    max-width: none
  .nav-container
    display: none

@media (-webkit-min-device-pixel-ratio: 2) and (max-width: 1000px), (min-resolution: 192dppx)
  html
    font-size: 200%
  .nav.down-arrow
    background-size: (navSize + 10)px
